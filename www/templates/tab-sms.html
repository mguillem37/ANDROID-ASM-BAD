<ion-view view-title="Sms" hide-nav-bar="false">

  <ion-nav-buttons side="right">
    <button class="button button-icon button-clear ink ion-ios-gear" ng-click="showParameterModal()">
    </button>
  </ion-nav-buttons>

  <ion-content class="padding">

    <ion-list show-delete="false" show-reorder="false" can-swipe="false">

      <div class="row" ng-if="! isPortrait()">
        <div class="col col-center">
          <label class="checkbox force-vertical-align">
            <input type="checkbox" ng-model="form.isBureau" ng-disabled="countContactsASM===0"
                   ng-click="changeAdherentStateIfIsMember()">
          </label><strong>Bureau ({{membersASM.length}})</strong>
        </div>
        <div class="col col-center">
          <label class="checkbox force-vertical-align">
            <input type="checkbox" ng-model="form.isMinibad" ng-disabled="countContactsASM===0"
                   ng-click="changeAdherentStateIfIsMinibad()">
          </label><strong>Minibad ({{countMinibadASM}})</strong>
        </div>
        <div class="col col-center">
          <label class="checkbox force-vertical-align">
            <input type="checkbox" ng-model="form.isAdherent" ng-disabled="countContactsASM===0"
                   ng-click="changeBureauState()">
          </label><strong>Adhérents ({{countContactsASM}})</strong>
        </div>
      </div>

      <li class="item item-checkbox" ng-if="isPortrait()">
        <label class="checkbox">
          <input type="checkbox" ng-model="form.isBureau" ng-disabled="countContactsASM===0"
                 ng-click="changeAdherentStateIfIsMember()">
        </label><strong>Bureau ({{membersASM.length}})</strong>
      </li>

      <li class="item item-checkbox" ng-if="isPortrait()">
        <label class="checkbox">
          <input type="checkbox" ng-model="form.isMinibad" ng-disabled="countContactsASM===0"
                 ng-click="changeAdherentStateIfIsMinibad()">
        </label><strong>Minibad ({{countMinibadASM}})</strong>
      </li>

      <li class="item item-checkbox" ng-if="isPortrait()">
        <label class="checkbox">
          <input type="checkbox" ng-model="form.isAdherent" ng-disabled="countContactsASM===0"
                 ng-click="changeBureauState()">
        </label><strong>Adhérents ({{countContactsASM}})</strong>
      </li>

      <div class="item item-assertive text-center" ng-if="!networkOnLine">
        <strong>Absence de réseau !</strong>
      </div>

      <label class="item item-input item-stacked-label">
        <span class="input-label"><strong>Message SMS <i>({{form.message.length}}/{{SMS_THRESHOLD}})</i></strong></span>
          <textarea ng-model="form.message" type="text" rows="4"
                    placeholder="Corps du message à envoyer par SMS"
                    ng-model-options="{ allowInvalid: true }"
                    ng-maxlength="255" maxlength="255"></textarea>
      </label>

      <div class="item">
        <button ng-disabled="isButtonDisabled()" ng-click="sendSMS()"
                class="button button-block button-raised button-positive ink">Envoyer le SMS <i
          class="icon ion-android-textsms"></i>
        </button>
      </div>

    </ion-list>


  </ion-content>
</ion-view>
